<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
</head>
<body>
  <script type="text/javascript">
    const page = '9e030b9d14d4ffd5cb6bb8aa3dacba1148a60bd92be5e72a76558bd6886b536489888e448e6c4bf321ca3cfa7a776ca3335c73157560cc5cd0f1581ebd22ec7e3dc2d43cfbfe6bd160af8465511e3f3f2ec5123462f72736db10b34df4c3ba17e6ed040e52721e17bf3869fa63e72ecf5aab18adc6b2a4f0d8fa8e8923a9e2b21714585dfc1a06e78caaf1540a3b0ab90778ee526e27c51a58a59803256d54050d419417096c31a54cd8da3d2378f73f2395c8855a70462365b58174';
    window.onload = () => {
      console.log(window.qqqq);
      const url = window.location.href;
      const match = url.match(/\?key=(.*)$/);
      console.assert(match !== null);
      const hexKey = match[1];
      console.assert(hexKey.length == 32);
      const byteKey = aesjs.utils.hex.toBytes(hexKey);
      const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
      const pageBytes = aesjs.utils.hex.toBytes(page);
      const decryptedBytes = aes.decrypt(pageBytes);
      const decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
      document.body.innerHTML = decryptedPage;
    }
  </script>
</body>
</html>
