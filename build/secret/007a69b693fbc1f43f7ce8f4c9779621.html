<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
</head>
<body>
  <script type="text/javascript">
    const page = '9e030b9d0dddf39ba44fb1a82ab0c5181efd3dca33ea8e452646daef8522542bc08fc655c66c08f227db29fc3f632db4371a2a1b3971b65eaaf360459628be2d7cd19170faf5729422ac826d101f237a7ad418617efb6630c812b014f687e500f3a24d0944224351a9333dbc34bb3a8a5cad54eb82b0eeb498accadf3cbba5b644725b46a72b5ef1deb9e4125b7e03e80d72fd44383f81445fb49c013d321104091a841c593c30b640868337746db26e779196ce0a7a5d277cf48c4e504a7ad0a78f6806340549924f0336fc192a86f4282e43044b9d5c0e23cd8b1e847676a3fcfcb988d6039c43be92fb18ed64f595d3680b324c298892833dd82d6042bf630534a9';
    window.onload = () => {
      console.log(window.qqqq);
      const url = window.location.href;
      const match = url.match(/\?key=(.*)$/);
      console.assert(match !== null);
      const hexKey = match[1];
      console.assert(hexKey.length == 32);
      const byteKey = aesjs.utils.hex.toBytes(hexKey);
      const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
      const pageBytes = aesjs.utils.hex.toBytes(page);
      const decryptedBytes = aes.decrypt(pageBytes);
      const decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
      document.body.innerHTML = decryptedPage;
    }
  </script>
</body>
</html>
