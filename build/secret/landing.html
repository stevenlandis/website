<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
  <script type="text/javascript" src="sha256.js"></script>
</head>
<body>
  <script type="text/javascript">
    const link = 'a2115315d3475b01bb63383b86fb7c51';
    window.onload = () => {
      const input = document.getElementsByTagName('input')[0];
      input.addEventListener('keydown', event => {
        if (event.key === 'Enter') {
          const pass = event.target.value;
          const m = sha256.create();
          m.update(pass);
          const hexPass = m.hex().substr(0,32);

          const byteKey = aesjs.utils.hex.toBytes(hexPass);
          const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
          const linkBytes = aesjs.utils.hex.toBytes(link);
          const decryptedLink = aesjs.utils.hex.fromBytes(aes.decrypt(linkBytes));
          const url = `${decryptedLink}.html?key=${hexPass}`;
          window.location.href = url;
        }
      });
    }
  </script>
  <input type="password">
</body>
</html>
