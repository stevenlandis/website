import pybuild as bld
import pages

def getRules(cd):
    return [bld.Rule(f,pages.fromMD(f)) for f in cd.files if f.type == 'md']

def getRules(cd):
    rules = []
    for f in cd.files:
        if f.type != 'md': continue
        rules.append(bld.Rule(f,pages.fromMD(f)))
    for d in cd.dirs:
        rules += getRules(d)
    return rules