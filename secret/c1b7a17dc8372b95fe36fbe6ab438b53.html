<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
</head>
<body>
  <script type="text/javascript">
    const page = '2e89a392e4458a6d148bb3ffe07dcd183fa5043ef74074613f3eba5e9448ff346a3e7e73c21930958a4e813904082eed47c8b9c6881f1a00da9ec713319a374c7e2252fac3c19776dea0bfc29692031dc630879045bb9b6b5e6031e4d2a141665b6b2cfe323376344d1a818c20c050a572404e66066aaf4c1b32240333ff8d8d229dd9dce0d578c83a77c13ae9412d722ff816c4e66583b7cf992b040b125d6c2c1d63001c7d089e33e0770eefe2eb6f8753fb4190ae349a289947a7bf517f7d8e220fad64668605284dca693c67235efb43461270345632bb0605e731a65aa011711ed76ba1e177b866f608a0be0ef5134df1cbb68ff4fb78b0d80bb039f9ce89d93ca74d6eb7fa3f78e69b006b450fe4df93af40a265a1053625f3f2b4b2f9bab57b1a169563b0120b600bcd9c72f836045f36e94cf224b1e9744f16d50d6d6becc4bd06e702dc0565892a38b4224cc5f98d4611bf7f56a6ffc78225770649bd114ded8f3b180e6f0a6112937e8d682a7c2af99007f99782f2bd90696cad31b6bcf5cc0a7ae99879eabfedcfee59668211b0115cb8';
    window.onload = () => {
      const url = window.location.href;
      const hexKey = window.localStorage.getItem('password hash');
      console.assert(hexKey !== null);
      console.assert(hexKey.length == 32);
      const byteKey = aesjs.utils.hex.toBytes(hexKey);
      const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
      const pageBytes = aesjs.utils.hex.toBytes(page);
      const decryptedBytes = aes.decrypt(pageBytes);
      const decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
      document.body.innerHTML = decryptedPage;
    }
  </script>
</body>
</html>
