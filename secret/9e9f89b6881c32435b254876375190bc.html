<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
</head>
<body>
  <script type="text/javascript">
    const page = '84b69006ace3cc3239b8b14aa7b7605fc610710eae93b8eb367a192db3db6af5cdc678d480d0bd186a03e218cb467ebf931402510c2c4293e6fb612d43448082eb4cf8e7bf3d2550d398be9435acd1bd38a53d8d307012ada7e28837accd4342c618490260717eec7d0da02f16c092a3a84cb3bb5a7670de348d42c5eebf2f9362cbb5177e0be39f508973f96982eccf1c27cc1a9aa644f4e16537217d8df8f3c3d5d25a6869d3dfa61a2d00214fec4427f118aeaabdf12d53be0297184eafc6e367770aa72c9a1b5fd2c33041ad60b613f737ab6d92555134f1c584f67f3dbf714bfed1ea42c3bc20f25ba763a0c440a416a7bcc9c12bc4dfe484d563291e8654b8e0c52900add6f0535725b302a42cf4e3f0f5f3eb828db2736cebdfb9aef80e897c549f7e1298fae1ab409e1b37d497bdd778042fb7b3abe96a54dd02cc33c00d3f921bcbeb8855f579f32376c4e990b1e6b378e3d97b96dce205caef7646fe43ff82a20d2b521dfa5e131642d4e62720c211603b2f86696eefd6379b93e82497336e01b1ed1afaf51c43080eb2b39c644d1c9ab6';
    window.onload = () => {
      const url = window.location.href;
      const hexKey = window.localStorage.getItem('password hash');
      console.assert(hexKey !== null);
      console.assert(hexKey.length == 32);
      const byteKey = aesjs.utils.hex.toBytes(hexKey);
      const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
      const pageBytes = aesjs.utils.hex.toBytes(page);
      const decryptedBytes = aes.decrypt(pageBytes);
      const decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
      document.body.innerHTML = decryptedPage;
    }
  </script>
</body>
</html>
