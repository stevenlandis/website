<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Encrypted Page</title>
  <script type="text/javascript" src="aes.js"></script>
</head>
<body>
  <script type="text/javascript">
    const page = '4d0d5eb1d04b203059455ad2b8293079cd456fce1d7fe4ddfa4fa4d80e60ed5bb75e4eef280674f8a0486fea2347dc31504cea340a2acd00e30f6d2ef37f4878698dc155476fc88b12ed47ca0e631620b538ba8f93037551bb2d5dce8682866ed1a83e0364faba9c37964c19822fe398bece08959fe20cab5756d9640e02bb8c09d5f5d90a55d72b2bc7f29550a5e47c75a6c8f1417b997e104bc6a50e78ba173dded4d6b25bfc0d6076b9bb9ebfd364138ea1e87ba16b6ad6105f77de4b2b82e048d2b69d5654188ad2a05dbacdc1658139d0cb389a4e6b863825f41207034ac93f67ef877c4c07a8e94bfb1cb7af78bdfbbc5b83c861d620ff03a7fb0e0ca99be18eb749b23e5bddd1f74e00c1aee10b7ffa9763';
    window.onload = () => {
      const url = window.location.href;
      const hexKey = window.localStorage.getItem('password hash');
      console.assert(hexKey !== null);
      console.assert(hexKey.length == 32);
      const byteKey = aesjs.utils.hex.toBytes(hexKey);
      const aes = new aesjs.ModeOfOperation.ctr(byteKey, new aesjs.Counter(1));
      const pageBytes = aesjs.utils.hex.toBytes(page);
      const decryptedBytes = aes.decrypt(pageBytes);
      const decryptedPage = aesjs.utils.utf8.fromBytes(decryptedBytes);
      document.body.innerHTML = decryptedPage;
    }
  </script>
</body>
</html>
